#
# OpenSIPS Configuration for sage-voice-manager
# Minimal config - routes SIP calls to Python media server
#

####### Global Parameters #########
log_level=3
log_stderror=yes
log_facility=LOG_LOCAL0

listen=udp:0.0.0.0:5060
listen=tcp:0.0.0.0:5060

disable_tcp=no

####### Routing Logic ########
route {
    # Forward all requests to media server
    # Uses environment variables: MEDIA_SERVER_HOST and MEDIA_SERVER_PORT
    $du = "sip:${MEDIA_SERVER_HOST}:${MEDIA_SERVER_PORT}";

    # Simple stateless forwarding
    forward();
}
